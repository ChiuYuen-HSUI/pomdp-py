
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pomdp_problems.light_dark.models package &#8212; pomdp_py 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="pomdp_problems.light_dark.env package" href="pomdp_problems.light_dark.env.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">A framework to build and solve POMDP problems.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=h2r&repo=pomdp-py&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pomdp_problems.light_dark.models package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pomdp_problems.light_dark.models.observation_model">pomdp_problems.light_dark.models.observation_model module</a></li>
<li><a class="reference internal" href="#module-pomdp_problems.light_dark.models.policy_model">pomdp_problems.light_dark.models.policy_model module</a></li>
<li><a class="reference internal" href="#module-pomdp_problems.light_dark.models.reward_model">pomdp_problems.light_dark.models.reward_model module</a></li>
<li><a class="reference internal" href="#module-pomdp_problems.light_dark.models.transition_model">pomdp_problems.light_dark.models.transition_model module</a></li>
<li><a class="reference internal" href="#module-pomdp_problems.light_dark.models">Module contents</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_principles.html">Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../existing_solvers.html">Existing POMDP Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensions.html">Use Case Extensions</a></li>
</ul>
<p class="caption"><span class="caption-text">API References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">pomdp_py</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">problems</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pomdp_problems.html">pomdp_problems package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pomdp_problems.multi_object_search.html">pomdp_problems.multi_object_search package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pomdp_problems.rocksample.html">pomdp_problems.rocksample package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pomdp_problems.tiger.html">pomdp_problems.tiger package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="pomdp_problems.light_dark.html">pomdp_problems.light_dark package</a></li>
</ul>
</li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://h2r.cs.brown.edu/">H2R lab</a></li>
    
    <li class="toctree-l1"><a href="http://kaiyuzh.me">Kaiyu's homepage</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">problems</a><ul>
  <li><a href="pomdp_problems.html">pomdp_problems package</a><ul>
  <li><a href="pomdp_problems.light_dark.html">pomdp_problems.light_dark package</a><ul>
      <li>Previous: <a href="pomdp_problems.light_dark.env.html" title="previous chapter">pomdp_problems.light_dark.env package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>


<h3 class="donation">Donate/support</h3>



<p>
<a class="badge" href="paypal.me/zkytony/10">
<img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate">
</a>
</p>





        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="pomdp-problems-light-dark-models-package">
<h1>pomdp_problems.light_dark.models package<a class="headerlink" href="#pomdp-problems-light-dark-models-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pomdp_problems.light_dark.models.observation_model">
<span id="pomdp-problems-light-dark-models-observation-model-module"></span><h2>pomdp_problems.light_dark.models.observation_model module<a class="headerlink" href="#module-pomdp_problems.light_dark.models.observation_model" title="Permalink to this headline">¶</a></h2>
<p>Defines the ObservationModel for the continuous light-dark domain;</p>
<p>Origin: Belief space planning assuming maximum likelihood observations</p>
<p>Quote from the paper:</p>
<blockquote>
<div><p>The observation function is identity, <span class="math notranslate nohighlight">\(g(x_t) = x_t+\omega\)</span>,
with zero-mean Gaussian observation noise a function of state,
omegasimmathcal{N}(cdot | 0, w(x))` where</p>
<p>:math:<a href="#id1"><span class="problematic" id="id2">`</span></a>w(x) =</p>
</div></blockquote>
<p>rac{1}{2}(5-s_x)^2 +         ext{const}`</p>
<blockquote>
<div><p>(Notational change; using <span class="math notranslate nohighlight">\(s_x\)</span> to refer to first element of
state (i.e. robot position). The number 5 indicates the x-coordinate
of the light bar as shown in the figure (Fig.1 of the paper).</p>
</div></blockquote>
<dl class="class">
<dt id="pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel">
<em class="property">class </em><code class="sig-prename descclassname">pomdp_problems.light_dark.models.observation_model.</code><code class="sig-name descname">LightDarkObservationModel</code><span class="sig-paren">(</span><em class="sig-param">light</em>, <em class="sig-param">const</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/observation_model.html#LightDarkObservationModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../api/pomdp_py.framework.html#pomdp_py.framework.basics.ObservationModel" title="pomdp_py.framework.basics.ObservationModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pomdp_py.framework.basics.ObservationModel</span></code></a></p>
<dl class="method">
<dt id="pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel.probability">
<code class="sig-name descname">probability</code><span class="sig-paren">(</span><em class="sig-param">observation</em>, <em class="sig-param">next_state</em>, <em class="sig-param">action</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/observation_model.html#LightDarkObservationModel.probability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>The observation is <span class="math notranslate nohighlight">\(g(x_t) = x_t+\omega\)</span>. So
the probability of this observation is the probability
of <span class="math notranslate nohighlight">\(\omega\)</span> which follows the Gaussian distribution.</p>
</dd></dl>

<dl class="method">
<dt id="pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">next_state</em>, <em class="sig-param">action</em>, <em class="sig-param">argmax=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/observation_model.html#LightDarkObservationModel.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>sample an observation.</p>
</dd></dl>

<dl class="method">
<dt id="pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel.argmax">
<code class="sig-name descname">argmax</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">next_state</em>, <em class="sig-param">action</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/observation_model.html#LightDarkObservationModel.argmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.observation_model.LightDarkObservationModel.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the most likely observation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pomdp_problems.light_dark.models.policy_model">
<span id="pomdp-problems-light-dark-models-policy-model-module"></span><h2>pomdp_problems.light_dark.models.policy_model module<a class="headerlink" href="#module-pomdp_problems.light_dark.models.policy_model" title="Permalink to this headline">¶</a></h2>
<p>Defines the PolicyModel for the continuous light-dark domain;
This is a continuous action space where actions are velocities.
Different from other discrete domains, there is no enumeration over
the action space provided, unless discretization is enforced.</p>
<p>The policy model was not explicit in the original paper <cite>Belief space planning
assuming maximum likelihood observations</cite> which is not proposing a sample
based algorithm. This is an example of how PolicyModel can be flexibly
used for non-MCTS or sampling based planners. Also, this PolicyModel indeed
supports a variant of POMCP that handles continuous domains, which we will
implement.</p>
</div>
<div class="section" id="module-pomdp_problems.light_dark.models.reward_model">
<span id="pomdp-problems-light-dark-models-reward-model-module"></span><h2>pomdp_problems.light_dark.models.reward_model module<a class="headerlink" href="#module-pomdp_problems.light_dark.models.reward_model" title="Permalink to this headline">¶</a></h2>
<p>Defines the RewardModel for the continuous light-dark domain;
Also provides a sparse reward model, easier to be understood and
probably a “better” reward with less human-designed factors.</p>
<p>Origin: Belief space planning assuming maximum likelihood observations</p>
<p>Quote from the paper:</p>
<blockquote>
<div><p>The cost function (equation 8) used recurring state and action costs
of R = diag (0.5, 0.5) and Q = diag (0.5, 0.5) and a final cost on
covariance, Lambda=200. B-LQR had an additional large final cost on
mean. Direct transcription used a final value constraint on mean,
m = (0,0) instead.</p>
</div></blockquote>
<p>More context (quote from the paper) and my comments/thoughts.</p>
<blockquote>
<div><p>In general, we are concerned with the problem of _reaching a given
region of state space with high <a href="#id3"><span class="problematic" id="id4">certainty_</span></a>.</p>
</div></blockquote>
<p>Interesting - I thought POMDPs are about producing a sequence of actions to
maximize the reward, which does not explicitly require the belief distribution
to end up in any particular shape or form. In robotics problems the goal is
specified through the reward; Indeed, for problems such as localization, one
type of reward is to guide its actions is based on certainty of belief in its
current position. But this is a specific kind of guided reward; A reward
function that is more general in terms of possible behavior as a consequence is
sparse goal-directed reward. This kind of reward is used in the
<a class="reference external" href="https://arxiv.org/pdf/1709.06196.pdf">POMCPOW paper</a> regarding the
light-dark domain.</p>
<blockquote>
<div><p>For a Gaussian belief space, this corresponds to a cost function that is minimized
at zero covariance. However, it _may <a href="#id5"><span class="problematic" id="id6">be_</span></a> more important to reduce covariance
in some directions over others. … We define a finite horizon quadratic cost-to-go
function … As a result, we re-write the cost-to-go function as:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(J(b_{\tau:T}, u_{\tau:T}) = s_T^{\top}\Lambda s_T +
\sum_{t=\tau}^{T-1}\tilde{m}_t^{\top} Q \tilde{m}_t + \tilde{u}_t^{\top} R \tilde{u}_t\)</span></p>
</div></blockquote>
<p>where <span class="math notranslate nohighlight">\(\Lambda=\sum_{i=1}^K w_iL_i\)</span> and the <cite>cost matrix</cite> <span class="math notranslate nohighlight">\(L_i\)</span> is
a function of unit vectors <span class="math notranslate nohighlight">\(\{\hat{n}_1,\cdots,\hat{n}_k\}\)</span> pointing in <span class="math notranslate nohighlight">\(k\)</span>
directions in which it is desried to minimize covariance and let the <cite>relative importance</cite>
of these directions be described by weights <span class="math notranslate nohighlight">\(w_1,\cdots,w_k\)</span>.</p>
</div></blockquote>
<dl class="class">
<dt id="pomdp_problems.light_dark.models.reward_model.LightDarkRewardModel">
<em class="property">class </em><code class="sig-prename descclassname">pomdp_problems.light_dark.models.reward_model.</code><code class="sig-name descname">LightDarkRewardModel</code><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/reward_model.html#LightDarkRewardModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.reward_model.LightDarkRewardModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../api/pomdp_py.framework.html#pomdp_py.framework.basics.RewardModel" title="pomdp_py.framework.basics.RewardModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pomdp_py.framework.basics.RewardModel</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-pomdp_problems.light_dark.models.transition_model">
<span id="pomdp-problems-light-dark-models-transition-model-module"></span><h2>pomdp_problems.light_dark.models.transition_model module<a class="headerlink" href="#module-pomdp_problems.light_dark.models.transition_model" title="Permalink to this headline">¶</a></h2>
<p>Defines the TransitionModel for the continuous light-dark domain;</p>
<p>Origin: Belief space planning assuming maximum likelihood observations</p>
<p>Quote from the paper:</p>
<blockquote>
<div><p>The underlying system dynamics are linear with zero process noise,
<span class="math notranslate nohighlight">\(f(x_t,u_t)=x_t+u\)</span>. This means the transition dynamics is
deterministic.</p>
</div></blockquote>
<dl class="class">
<dt id="pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel">
<em class="property">class </em><code class="sig-prename descclassname">pomdp_problems.light_dark.models.transition_model.</code><code class="sig-name descname">LightDarkTransitionModel</code><span class="sig-paren">(</span><em class="sig-param">epsilon=1e-09</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/transition_model.html#LightDarkTransitionModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../api/pomdp_py.framework.html#pomdp_py.framework.basics.TransitionModel" title="pomdp_py.framework.basics.TransitionModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pomdp_py.framework.basics.TransitionModel</span></code></a></p>
<dl class="method">
<dt id="pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel.probability">
<code class="sig-name descname">probability</code><span class="sig-paren">(</span><em class="sig-param">next_state</em>, <em class="sig-param">state</em>, <em class="sig-param">action</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/transition_model.html#LightDarkTransitionModel.probability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Deterministic.</p>
</dd></dl>

<dl class="method">
<dt id="pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">state</em>, <em class="sig-param">action</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/transition_model.html#LightDarkTransitionModel.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns next state randomly sampled according to the
distribution of this transition model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference internal" href="../api/pomdp_py.framework.html#pomdp_py.framework.basics.State" title="pomdp_py.framework.basics.State"><em>State</em></a>) – the next state <span class="math notranslate nohighlight">\(s\)</span></p></li>
<li><p><strong>action</strong> (<a class="reference internal" href="../api/pomdp_py.framework.html#pomdp_py.framework.basics.Action" title="pomdp_py.framework.basics.Action"><em>Action</em></a>) – the action <span class="math notranslate nohighlight">\(a\)</span></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the next state <span class="math notranslate nohighlight">\(s'\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../api/pomdp_py.framework.html#pomdp_py.framework.basics.State" title="pomdp_py.framework.basics.State">State</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel.argmax">
<code class="sig-name descname">argmax</code><span class="sig-paren">(</span><em class="sig-param">state</em>, <em class="sig-param">action</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pomdp_problems/light_dark/models/transition_model.html#LightDarkTransitionModel.argmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pomdp_problems.light_dark.models.transition_model.LightDarkTransitionModel.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the most likely next state</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pomdp_problems.light_dark.models">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pomdp_problems.light_dark.models" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2020, Kaiyu Zheng.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/problems/pomdp_problems.light_dark.models.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>